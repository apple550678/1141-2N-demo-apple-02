### w15

```
sql

-- 1. 建立商品表格 (Create Table)
-- 這是一個用來儲存所有商品資訊的倉庫
CREATE TABLE shop2_02 (
    -- [商品ID]: 主鍵 (Primary Key)
    -- int: 整數
    -- NOT NULL: 必填，不能是空的
    -- PRIMARY KEY: 身分證字號，保證每個商品編號獨一無二，搜尋最快
    pid int NOT NULL PRIMARY KEY,

    -- [商品名稱]
    -- varchar(255): 可變長度的文字，最多存 255 個字 (比 char 省空間)
    pname varchar(255),

    -- [分類ID]: 外鍵 (Foreign Key)
    -- 這裡只存數字 (例如 1, 2)，不存中文 (如 '帽子')，是為了跟 category2_02 表格做關聯
    cat_id int,

    -- [價格]
    -- real: 浮點數 (可以有小數點)，預留未來可能會有非整數價格 (如 19.99) 的空間
    price real,

    -- [本機圖片路徑]
    -- text: 長文字，適合存路徑，例如 '/images/midterm/...'
    -- 這是給你在自己電腦 (Localhost) 開發時用的
    img_url text,

    -- [遠端圖片網址]
    -- 這是備用方案，如果本機圖片不見了，或網站上線後，可以讀取這個雲端網址
    remote_img_url text,

    -- [重要！外鍵約束設定]
    -- 規則名稱: fk_1
    -- 規則內容: 本表格的 "cat_id" 欄位，必須對應到 "category2_02" 表格的 "cid" 欄位
    CONSTRAINT fk_1 FOREIGN KEY("cat_id") REFERENCES category2_02 (cid)
        -- [保護機制 1] 當分類被刪除時 (例如刪除了 '帽子' 分類)
        -- 設定為 NULL (空值)，而不是把商品也刪掉。這樣商品還在，只是變「未分類」。
        on DELETE SET NULL
        -- [保護機制 2] 當分類ID改變時 (例如把 '帽子' ID 從 1 改成 100)
        -- 自動連動更新 (Cascade)，這裡所有帽子的 cat_id 也會自動變成 100。
        on UPDATE CASCADE
);


-- 2. 插入資料 (Insert Data)
-- 格式必須對應上面的欄位順序: (pid, pname, cat_id, price, img_url, remote_img_url)
INSERT INTO shop2_02 (pid, pname, cat_id, price, img_url, remote_img_url)
VALUES
-- [分類 1: 帽子區] 注意這裡的 cat_id
```
